<div class="row">
    <div class="card-panel">
        <h4>{{apiPath.name}}</h4>
    </div>
    <div class="col s12 m6" *ngFor="#operation of apiPath.path.operations">
        <div class="card">
            <div class="card-panel" [ngClass]="operation.getMethodClass()">
                <strong>{{operation.name}}</strong> {{operation.summary}}<br/>
                <span>{{operation.description}}</span>
            </div>
            <div class="card-content">
                <p>{{operation.summary}} <span class="badge text-white" [hidden]="!operation.parameters">{{operation.parameters.length}} parameter(s)</span>
                </p><br/>
                <p>
                    <input type="checkbox" disabled="disabled" class="filled-in" id="filled-in-box" ng-checked="true"/>
                    <label for="filled-in-box">Deprecated</label>
                </p><br/>
                <p>Type:
                    <a href="" *ngIf="apiDoc.isOperationDtoType(operation)"
                       (click)="onClickParameterType($event,apiDoc.getDtoType(operation))">{{apiDoc.getDtoType(operation)}}
                    </a>
                        <span *ngIf="!apiDoc.isOperationDtoType(operation) && apiDoc.isTypeArray(operation)">
                            [<a href="" (click)="onClickParameterType($event,apiDoc.getDtoType(operation))">{{apiDoc.getDtoType(operation)}}
                        </a>]
                        </span>
                </p>
            </div>
            <div class="card-action">
                <a (click)="goToDetailPage($event,operation)" href=""
                   class="waves-effect black-text waves-light btn" [ngClass]="operation.getMethodClass()"><i class="mdi-action-swap-vert"></i>Try api</a>

                <a href="" (click)="onClickStatBtn(operation)" class="waves-effect black-text waves-light btn"
                   [ngClass]="operation.getMethodClass()"
                   *ngIf="hasStats($index)"><i class="mdi-editor-insert-chart"></i>Stats</a>
            </div>
        </div>
    </div>
    <div id="chartModal" class="modal modal-fixed-footer">
        <div class="modal-content">
            <canvas class="chart chart-line" legend="true" colours="colors" options="options" series="series"
                    data="stats" labels="labels"></canvas>
        </div>
        <div class="modal-footer">
            <a href="" ng-click="onCloseModal('chartModal')"
               class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
        </div>
    </div>
    <div id="typeObjectModal" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h4>{{definition.name}}</h4>
            <table class="responsive-table">
                <thead>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                <th>Required</th>
                </thead>
                <tbody>
                <tr class="collection" *ngFor="#property of definition.schema.properties | values">
                    <td class="title">{{property.key}}</td>
                    <td>
                        <span *ngIf="!definition.schema.isPropertyTypeArray(property.value) && !apiDoc.isDtoType(property.value.type)">{{property.value.type}}</span>

                            <span *ngIf="!definition.schema.isPropertyTypeArray(property.value) && apiDoc.isDtoType(property.value.type)"><a
                                    href="" (click)="onClickParameterType($event,property.value.type)">{{property.value.type}}</a></span>

                            <span *ngIf="definition.schema.isPropertyTypeArray(property.value) && apiDoc.isDtoType(apiDoc.toEntityName(property.value.items.$ref))">
                                    [<a href="" (click)="onClickParameterType($event,apiDoc.toEntityName(property.value.items.$ref))">{{apiDoc.toEntityName(property.value.items.$ref)}}</a>]</span>

                            <span *ngIf="definition.schema.isPropertyTypeArray(property.value) && !apiDoc.isDtoType(apiDoc.toEntityName(property.value.items.type))">
                                    [<span class="red-text">{{apiDoc.toEntityName(property.value.items.type)}}</span>]
                                </span>
                    </td>
                    <td>{{definition.schema.getPropertyByName(property.key)}}</td>
                    <td>
                        <input title="Field required" [attr.id]="property.key" type="checkbox"
                               [checked]="definition.isRequired(property.key)" class="filled-in" disabled/>
                        <label [attr.for]="property.key"></label>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <a href="" (click)="onCloseModal($event)"
               class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
        </div>
    </div>
</div>